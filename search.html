<!DOCTYPE html>
<html>
<head>
    <title>Search All</title>
</head>
<body>
    <!--
    => ctrl + .  = open all that holds commonClass class
    => ctrl + " "  = open all that holds codeSearch class
    => ctrl + z  = open all that holds aiSearch class
    => ctrl + mouseout on link = open that link
    => ctrl + enter  = append textarea's text
    => ctrl + q  = open all that holds generalSearch class
    => ctrl + shift  = this.location.reload();
    => this url with queryString of q = search
        codeSearch
        querySearch
    -->
    <form id="searchForm">
        <!--<input type="text" id="searchField" placeholder="Enter your search query">-->
        <textarea id="searchField" style="width:90%;" placeholder="Enter your search passage" autofocus></textarea>
        <button type="submit">Search</button>
        <button type="button" id="resetButton">Reset</button>
    </form>

    <div class="grid-container">
        <div>
            <div>CODE</div>
            <ul id="allLinks">
                <li class="commonClass"><a href="https://beta.character.ai/?q=" target="_blank">https://beta.character.ai/</a></li>
                <li class="commonClass"><a href="https://zzzcode.ai/=" target="_blank">https://zzzcode.ai/</a></li>
                <li class="commonClass"><a href="https://labs.perplexity.ai/" target="_blank">https://labs.perplexity.ai/</a></li>
                <li class="commonClass codeSearch"><a href="https://www.blackbox.ai/?q=" target="_blank">https://www.blackbox.ai/</a></li>
                <li class="commonClass codeSearch"><a href="https://sdk.vercel.ai/playground?q=" target="_blank">https://sdk.vercel.ai/playground</a></li>
                <li class="commonClass codeSearch"><a href="https://chatgpt.com/?q=" target="_blank">https://chatgpt.com/</a></li>
                <li class="commonClass"><a href="https://huggingface.co/spaces/codellama/codellama-13b-chat?q=" target="_blank">https://huggingface.co/spaces/codellama/codellama-13b-chat</a></li>
                <li class="commonClass"><a href="https://chatgpt.bestim.org/chat/?q=" target="_blank">https://chatgpt.bestim.org/chat/</a></li>
                <li class="commonClass"><a href="https://talkai.info/chat/?q=" target="_blank">https://talkai.info/chat/</a></li>
                <li class="commonClass"><a href="https://anonchatgpt.com/?q=" target="_blank">https://anonchatgpt.com/</a></li>
                <li class="commonClass"><a href="https://jeeves.ai/chat/" target="_blank">https://jeeves.ai/chat</a></li>
                <li class="commonClass"><a href="https://bagoodex.io/search?id=" target="_blank">https://bagoodex.io/</a></li>
                <li class="commonClass"><a href="https://www.codeconvert.ai/free-converter?q=" target="_blank">https://www.codeconvert.ai/free-converter</a></li>
            </ul>
        </div>
        <div>
            <div>SEARCH ENGINES</div>
            <ul id="allLinks">
                <li class="commonClass invisible"><a href="https://www.askan.ai/?q=" target="_blank">https://www.askan.ai/</a></li>
                <li class="commonClass invisible"><a href="https://noowai.com/" target="_blank">https://noowai.com/</a></li>
                <li class="commonClass invisible"><a href="https://app.txyz.ai" target="_blank">https://app.txyz.ai</a></li>
                <li class="commonClass"><a href="https://gptgo.ai/" target="_blank">https://gptgo.ai/</a></li>
                <li class="commonClass"><a href="https://hai.surf/?q=" target="_blank">https://hai.surf/</a></li>
                <li class="commonClass generalSearch"><a href="https://komo.ai/?q=" target="_blank">https://komo.ai/</a></li>
                <li class="commonClass generalSearch aiSearch"><a href="https://www.waldo.fyi/app/search?q=" target="_blank">https://www.waldo.fyi/app/search</a></li>
                <li class="commonClass generalSearch querySearch aiSearch"><a href="https://huggingface.co/spaces/Felladrin/MiniSearch?q=" target="_blank">https://huggingface.co/spaces/Felladrin/MiniSearch/</a></li>
                <li class="commonClass generalSearch"><a href="https://www.hotbot.com/?q=" target="_blank">https://www.hotbot.com//</a></li>
                <li class="commonClass generalSearch"><a href="https://iask.ai/?q=" target="_blank">https://iask.ai/</a></li>
                <li class="commonClass generalSearch"><a href="https://www.ecosia.org/search?q=" target="_blank">https://www.ecosia.org/</a></li>
                <li class="commonClass generalSearch"><a href="https://app.yoursearch.ai/?q=" target="_blank">https://app.yoursearch.ai/</a></li>
                <li class="commonClass generalSearch"><a href="https://you.com/search?q=" target="_blank">https://you.com/</a></li>
                <li class="commonClass generalSearch"><a href="https://andisearch.com/?q=" target="_blank">https://andisearch.com/</a></li>
                <li class="commonClass generalSearch querySearch codeSearch aiSearch"><a href="https://www.perplexity.ai/?q=" target="_blank">https://www.perplexity.ai/</a></li>
                <li class="commonClass generalSearch querySearch codeSearch aiSearch"><a href="https://www.phind.com/search?q=" target="_blank">https://www.phind.com/</a></li>
                <li class="commonClass"><a href="https://ewasion.github.io/opendirectory-finder/?q=" target="_blank">ewasion.github.io</a></li>
                <li class="commonClass"><a href="https://www.dogpile.com/serp?q=" target="_blank">dogpile</a></li>
                <li class="commonClass generalSearch"><a href="https://yep.com/web?q=" target="_blank">yep</a></li>
                <li class="commonClass generalSearch querySearch"><a href="https://duckduckgo.com/?q=" target="_blank">duckduckgo</a></li>
                <li class="commonClass generalSearch querySearch"><a href="https://www.bing.com/search?q=" target="_blank">Bing</a></li>
                <li class="commonClass generalSearch querySearch"><a href="https://search.yahoo.com/search?p=" target="_blank">Yahoo</a></li>
                <li class="commonClass generalSearch querySearch"><a href="https://www.google.com/search?q=" target="_blank">Google</a></li>
            </ul>
        </div>
        <div>
            <div>OTHERS</div>
            <ul id="allLinks">
                <li class="commonClass"><a href="https://www.futurepedia.io/?q=" target="_blank">https://www.futurepedia.io/</a></li>
                <li class="commonClass"><a href="https://www.futuretools.io/?q=" target="_blank">https://www.futuretools.io/</a></li>
                <li class="commonClass"><a href="https://www.futureailab.com/?q=" target="_blank">https://www.futureailab.com/</a></li>
                <li class="commonClass"><a href="https://poe.com/?q=" target="_blank">https://poe.com/</a></li>
                <li class="commonClass"><a href="https://www.forefront.ai/?q=" target="_blank">https://www.forefront.ai/</a></li>
                <li class="commonClass"><a href="https://ora.ai/electric-red-ydty/a-normal-bot?q=" target="_blank">https://ora.ai/electric-red-ydty/a-normal-bot</a></li>
                <li class="commonClass"><a href="https://rationale.jina.ai/?q=" target="_blank">https://rationale.jina.ai/</a></li>
                <li class="commonClass"><a href="https://www.inca.fm/?q=" target="_blank">https://www.inca.fm/</a></li>
                <li class="commonClass"><a href="https://www.vecteezy.com/reverse-image-search" target="_blank">https://www.vecteezy.com/reverse-image-search</a></li>
                <li class="commonClass"><a href="https://www.desmos.com/calculator/zzxbryrahc" target="_blank">www.desmos.com/calculator/zzxbryrahc</a></li>
            </ul>
        </div>
    </div>
    <style>
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px; /* Optional: Adds some space between the columns */
        }
    </style>

    <script>
        document.getElementById('searchForm').addEventListener('submit', function (event) { // Add event listener to the form
            event.preventDefault(); // Prevent form submission
            var query = document.getElementById('searchField').value;
            var allLinks = document.querySelectorAll('#allLinks li a'); //var allLinks = document.getElementById('allLinks').getElementsByTagName('a');
            for (var i = 0; i < allLinks.length; i++)   // Redirect to the selected search engine's results page
                allLinks[i].setAttribute('href', allLinks[i].getAttribute('href') + encodeURIComponent(query));
        });

        document.querySelectorAll('.invisible').forEach(e => e.style.display = 'none');

        document.getElementById('resetButton').addEventListener('click', function () {  // Add event listener to the reset button
            document.getElementById('searchField').value = ''; // Clear the search field
            var allLinks = document.getElementById('allLinks').getElementsByTagName('a');
            for (var i = 0; i < allLinks.length; i++)  // Restore the original links of the search engines
                allLinks[i].setAttribute('href', allLinks[i].getAttribute('href').replace(/[^?]+/, ''));
        });

        document.addEventListener('keydown', function (event) {

            if (event.ctrlKey && event.key === 'Enter') { // Check if Control + Enter is pressed
                var submitButton = document.querySelector('button[type="submit"]'); // Find the submit button by its text or class/id
                submitButton.click(); // Simulate a click on the submit button
            }
            if (event.ctrlKey && event.key === 'Shift')
                document.querySelector('button[type="button"]').click(), this.location.href = this.location.pathname;//this.location.reload();
            if (event.ctrlKey && (event.key.toLowerCase() === '.'))
                (document.querySelector('button[type="submit"]').click(), openNewTabs(document.querySelectorAll('.commonClass a')));
            if (event.ctrlKey && (event.key.toLowerCase() === 'q'))
                (document.querySelector('button[type="submit"]').click(), openNewTabs(document.querySelectorAll('.generalSearch a')));
            if (event.ctrlKey && (event.key.toLowerCase() === ' '))
                (document.querySelector('button[type="submit"]').click(), openNewTabs(document.querySelectorAll('.codeSearch a')));
            if (event.ctrlKey && (event.key.toLowerCase() === 'z'))
                (document.querySelector('button[type="submit"]').click(), openNewTabs(document.querySelectorAll('.aiSearch a')));
            if (event.ctrlKey && (event.key.toLowerCase() === 'c')) //copy
                copyTextToClipboard(document.getElementById('searchField').value), document.getElementById('searchField').select();
        });

        document.querySelectorAll('ul').forEach(x => x.addEventListener('mouseout', function (e) {
            if (e.target.tagName === 'A' && e.ctrlKey) {
                e.preventDefault(); // Prevent the default action
                setTimeout(() => { // Wait for 300ms before executing the following code
                    openNewTabs(e.target.href); // Call openNewTabs after the delay
                }, 300); // Delay in milliseconds
            }
        }));













        function getLocalWebpageQuery() {   // Assuming you have a function that extracts the query parameter from your local webpage URL
            // Example: Extracting the query parameter from a URL like "file:///D:/casual/others/search.html?q=example"
            const url = window.location.href; // Get the current page URL
            const queryString = new URLSearchParams(new URL(url).search); // Parse the query string
            return queryString.get('q'); // Return the value of 'q'
        }

        function constructCustomSearchURL(query) {  // Function to construct the Custom search URL with the extracted query
            if (!query) {
                console.error("No query found.");
                return;
            }
            var modifiedLinksArray = [];
            document.querySelectorAll('.querySearch a').forEach(function (link) {
                var querySearchLink = link + encodeURIComponent(query); //const googleSearchURL = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
                modifiedLinksArray.push(querySearchLink);
            });
            return modifiedLinksArray;
        }

        function openNewTabs(urls) {
            if (urls == null)
                return;
            else if (typeof urls === 'string')
                urls = [urls]; // Convert the single URL string to an array
            urls.forEach(function (link) {
                if (link)
                    window.open(link, '_blank');
                else
                    console.log("Failed to construct Google search URL.");
            });
        }
        function performCustomSearchFromLocalPageQuery() {
            openNewTabs(constructCustomSearchURL(getLocalWebpageQuery()));
        }
        performCustomSearchFromLocalPageQuery();














        function copyTextToClipboard(text) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    console.log("Text copied to clipboard");
                }).catch(err => {
                    console.error("Could not copy text: ", err);
                });
            } else {    // Fallback for older browsers
                const textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    console.log("Text copied to clipboard");
                } catch (err) {
                    console.error("Could not copy text: ", err);
                }
                document.body.removeChild(textArea);
            }
        }



    </script>
</body>
</html>